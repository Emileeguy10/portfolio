{% extends 'base.html' %}

{% block title %}Admin - Awesome Portfolio{% endblock %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4">Admin â€” Edit User Profile</h2>

  {% if saved %}
    <div class="alert alert-success">Profile saved.</div>
  {% endif %}
  {% if error %}
    <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  <form method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label class="form-label">Full name</label>
      <input name="name" class="form-control" value="{{ user.name }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Title</label>
      <input name="title" class="form-control" value="{{ user.title }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Bio</label>
      <textarea name="bio" class="form-control" rows="4">{{ user.bio }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Profile image URL</label>
      <input name="profile_image" class="form-control" value="{{ user.profile_image }}">
      <small class="form-text text-muted">Use a path under /static or an external URL.</small>
    </div>
    <div class="mb-3">
      <label class="form-label">Or upload profile image</label>
      <input type="file" name="profile_file" accept="image/*" class="form-control">
      {% if user.profile_image %}
      <div class="mt-2">
        <img src="{{ user.profile_image }}" alt="current profile" style="height:80px; border-radius:8px;">
      </div>
      {% endif %}
    </div>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input name="email" class="form-control" value="{{ user.email }}">
    </div>

    <button class="btn btn-primary">Save</button>
  </form>
</div>
{% endblock %}
